<img src="/static/dataiku/images/dss-logo-about.png" width="70" style="float: right; margin-right: 30px" />
<br></br>

# Overview
The aim of this project was to predict the outcome of football matches. Currently, the project is predicting all Premier League and Championship games.

# Data
The data all comes from [api-football](https://www.api-football.com/), for which the various data feeds are well documented [here](https://www.api-football.com/documentation#documentation-v239-api-architecture).

In the current version, we used the match fixtures API to get historical match results for the Premier League and Championship for the last 10 years, as well as to get the upcoming fixtures for the next week.

# Flow
<p class="text-center">
<a href="/projects/DKU_CUSTOMER_LIFETIME_VALUE/flow/"  class="btn btn-datasets-color btn-cta-big-mod"><i class="icon-dku-sample_project" class="btn-cta-big-mod-icon" />Flow</a>
</p>

The first python recipe ([compute_Leagues](recipe:compute_Leagues)) is used to get the available leagues and their corresponding IDs from the API. This data is cleaned and filtered down to the leagues of interest to give the [Leagues_prepared_filtered](dataset:Leagues_prepared_filtered) dataset.

These league IDs are then used to get all the corresponding [historical fixtures](dataset:Fixtures_prepared), as well as the [upcoming fixtures](dataset:Upcoming_Fixtures_prepared), from the API.

We then use a [plugin](recipe:compute_Team_Elo_Ranks) to compute the Elo ratings ([wikipedia: Elo Ratings](https://en.wikipedia.org/wiki/Elo_rating_system)) for each team over the fixture history. Elo ratings originate from chess but also provide an accurate way of ranking football teams over time. We extract the most recent Elo ratings for each team from the history using [SQL](recipe:compute_Latest_Team_Elo_Ranks) which can be [joined](recipe:compute_Upcoming_Fixtures_EloFeatures) to the upcoming fixtures.

We trained a simple [logistic regression ](saved_model:STX882mM) algorithm on these ranks from the fixtures history to predict the outcome of the game. This model is then used to score the  [upcoming fixtures](dataset:Upcoming_Fixtures_prepared) to get the model [predictions](dataset:Upcoming_Fixtures_EloFeatures_scored) for the next week of fixtures.